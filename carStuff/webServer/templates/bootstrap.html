<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <style>
      canvas{
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
      }
      </style>
    <!-- Bootstrap CSS -->
    <script src="{{ url_for('static', filename='chart/Chart.js') }}"></script>
    <script src="{{ url_for('static', filename='chart/utils.js') }}"></script>
    <script src="{{ url_for('static', filename='jquery/jquery-3.3.1.min.js') }}"></script>
    <script src="{{ url_for('static', filename='popper/popper.min.js') }}"></script>
    <script src="{{ url_for('static', filename='bootstrap/bootstrap.min.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/icon/favicon.ico') }}">
    <title>Curiopo!</title>
  </head>
  <body>
<div id="loading"class="loading" style="display:none;">
  <div id="loadImg">
  </div>
</div>
<div class="row">
    <div class="col-md-5 custom-nav">
        <!-- <div class="road-line"></div> -->
    </div>
    <div class="top-padding col-md-2">
      <img class="img-fluid mx-auto d-block max-height-110" src="{{ url_for('static', filename='img/curiopo.png') }}">
    </div>
    <div class="col-md-5 custom-nav">
      <!-- <div class="road-line"></div> -->
    </div>
</div>
<div class="container-fluid top-padding">

{% if isRunning %}

  {% include 'logger.html' %}
  <div class="d-flex justify-content-center">
    <div class="p-2">
      <form method="POST">
        {% if isPaused %}
        <button type="submit" class="btn btn-primary" name="play" value=play>
            <svg class="svg-color" xmlns="http://www.w3.org/2000/svg" width="72" height="72" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"/></svg>
        </button>
        {% else %}
        <button type="submit" class="btn btn-primary" name="pause" value=pause>
            <svg class="svg-color" xmlns="http://www.w3.org/2000/svg" width="72" height="72" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"/></svg>
        </button>
        {% endif %}
        <button id="btn-stop"type="submit" class="btn btn-danger" name="stop" value=stop>
            <!-- <img src="{{ url_for('static', filename='img/icon/stop.png') }}"> -->
            <svg class="svg-color" xmlns="http://www.w3.org/2000/svg" width="72" height="72" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M6 6h12v12H6z"/></svg>
        </button>
      </form>
    </div>
  </div>
{% else %}
<div class="row">
  <div class="col-md-3 right-border">

  <h1>Upload AI model</h1>
  <form onsubmit="test()" method=post action="{{ url_for('upload_file') }}" enctype=multipart/form-data>
    <div class="form-row align-items-center">

    <div class="custom-file col-sm-9" style="margin-right: 10px;">
      <input required name="file" type="file" class="custom-file-input" id="customFile">
      <label class="custom-file-label" for="customFile">Choose file</label>
    </div>
    <button id="upload"class="btn btn-secondary col-auto" type=submit value=Upload>
        <svg class="svg-color" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/></svg>  
      </button>
  </div>

  </form>
  <br>
  <h1>Manual Training</h1>
  <!-- <h5>Launch manual training</h5> -->
  <form method="POST">
      <button id="steering-wheel" class='btn btn-info d-block mx-auto' type="submit" name="manual" value=manual>
      <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"width="140" height="140" viewBox="0 0 32 32"  xml:space="preserve">
        <g>
          <g id="steering_x5F_wheel">
            <path  d="M16,0C7.164,0,0,7.164,0,16s7.164,16,16,16s16-7.164,16-16S24.836,0,16,0z M16,4
              c5.207,0,9.605,3.354,11.266,8H4.734C6.395,7.354,10.793,4,16,4z M16,18c-1.105,0-2-0.895-2-2s0.895-2,2-2s2,0.895,2,2
              S17.105,18,16,18z M4,16c5.465,0,9.891,5.266,9.984,11.797C8.328,26.828,4,21.926,4,16z M18.016,27.797
              C18.109,21.266,22.535,16,28,16C28,21.926,23.672,26.828,18.016,27.797z"/>
          </g>
        </g>
      </svg>
      </button>
    </form>
  <br>
  {% if hasManualData %}
  <span>Download manual training data:</span>
  <a class='btn btn-secondary' href="{{ url_for('return_training_files') }}" target="blank">
    <svg class="svg-color" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>
  </a>
  {% endif %}
</div>
<div class="col-md-9">
    <h1 class="black-text">Models</h1>
    <div class="row">

      
  {% for count in range(models|length) %}
    
        <!-- <div class="col-sm-3"> -->
          <div class="card background-color-blue">
            <div class="card-body">
              <h5 class="card-title white-text">{{ models[count]['name'] }}</h5>
              <p class="card-text white-text">{{ models[count]['date'] }}</p>

              <form method="POST">
                  <button type="submit" class="btn btn-primary float-right" name="model" value="{{ models[count]['file_name'] }}">
                    <svg class="svg-color" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"/></svg>  
                  </button>
              </form>
              <!-- Button trigger modal -->
              <button type="button" class="btn btn-danger " data-toggle="modal" data-target="#deleteModal{{ count }}">
                <svg class="svg-color" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
              </button>
                            

            <!-- </div> -->
          </div>
 


  </div>
    <!-- Modal -->
    <div class="modal fade" id="deleteModal{{ count }}" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel{{ count }}" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="deleteModalLabel{{ count }}">Delete</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            Are you sure you want to delete "{{ models[count]['name'] }}"?
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            <form method="POST">
              <button type="submit" class="btn btn-danger" name="delete" value="{{ models[count]['file_name'] }}">
                Delete
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  {% endfor %}
  <div class="card background-color-blue">
    <div class="card-body">
      <h5 class="card-title white-text">Color picker</h5>
      <p class="card-text white-text">uses color</p>

      <form method="POST">
          <button type="submit" class="btn btn-primary float-right" name="colorPicker" value="colorPicker">
            <svg class="svg-color" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"/></svg>  
          </button>
      </form>

                    

    <!-- </div> -->
  </div>



</div>
<!-- Modal -->

  <!-- <img id="video" src="{{ url_for('video_feed') }}"> -->
</div>
</div>
</div>
{% endif %}
</div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    <script>
        // Add the following code if you want the name of the file appear on select
        $(".custom-file-input").on("change", function() {
          var fileName = $(this).val().split("\\").pop();
          $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
        });

  test = function(){
    document.getElementById("loading").style.display = "block";
  }
        </script>
  </body>
</html>